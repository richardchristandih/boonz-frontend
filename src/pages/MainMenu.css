/* =========================
   src/pages/MainMenu.css
   ========================= */

/* ===== Design Tokens ===== */
:root{
  /* Brand palette (from image) */
  --brand:        #FB7E00;   /* primary orange */
  --brand-2:      #FFCC3F;   /* secondary yellow */
  --surface:      #D1DFD2;   /* soft background */
  --price:        #9FC089;   /* price/success green */
  --cta:          #79B4B0;   /* CTA teal */
  --cta-contrast: #FFFFFF;
  --sb-logo-skel-bg: #f1f5f9;         
  --sb-logo-skel-shine: rgba(255,255,255,.65);

  /* Neutrals / semantics */
  --text:   #0f172a;
  --muted:  #6b7280;
  --border: #e5e7eb;
  --bg-soft: var(--surface);
  --ring: 0 0 0 3px rgba(251,126,0,.25); /* focus ring using --brand */

  /* Sidebar logo size token (mobile default) */
  --sb-logo-h: 46px; /* adjust 46–56px to taste, must match Sidebar.css */
  --sb-logo-rad: 10px;
}

/* Increase logo size on desktop to enable smooth resize animation */
@media (min-width:901px){
  :root{
    --sb-logo-h: 56px; /* desktop size */
  }
}

/* ===== Base layout ===== */
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

.layout-container{
  display:flex;
  height:100dvh;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:#fff;
  color:var(--text);
  overflow:hidden; /* parent stays non-scrollable; side panels manage their own scroll */
}
@supports not (height:100dvh){ .layout-container{ height:100vh; } }

/* ===== Sidebar (fallback styles; component may override) ===== */
.layout-sidebar{
  width:220px;
  border-right:1px solid var(--border);
  padding:20px;
  background:var(--bg-soft);
  display:flex;
  flex-direction:column;
}

/* ===== Main ===== */
.layout-main{ flex:1; display:flex; flex-direction:column; min-width:0; }

/* ===== Top bar ===== */
.layout-topbar{
  position:sticky; top:0; z-index:30;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:10px 16px; background:#fff; border-bottom:1px solid var(--border);
}

/* Category chips */
.chip-row{
  display:flex; gap:8px; overflow-x:auto; -webkit-overflow-scrolling:touch;
  scrollbar-width:none; max-width:100%; scroll-snap-type:x proximity;
}
.chip-row::-webkit-scrollbar{ display:none; }

.chip{
  white-space:nowrap;
  border:1px solid var(--border); background:#fff; color:var(--text);
  border-radius:999px; padding:8px 14px; font-size:14px; cursor:pointer;
  scroll-snap-align:start; transition:background .15s,border-color .15s,color .15s;
}
.chip:hover{ border-color:var(--border); background:#fafafa; }
.chip.active{
  background:var(--brand-2); color:#fff; border-color:var(--brand-2);
}

/* Topbar actions */
.topbar-actions{ display:flex; align-items:center; gap:10px; }
.icon-btn{
  background:#fff; border:1px solid var(--border); width:36px; height:36px; border-radius:8px;
  display:grid; place-items:center; cursor:pointer; transition:background .15s,transform .06s;
}
.icon-btn:hover{ background:#f6f7f8; }
.icon-btn:active{ transform:translateY(1px); }

/* Search */
.search-wrap{
  display:flex; align-items:center; gap:8px; background:#fff; border:1px solid var(--border);
  border-radius:999px; padding:6px 10px;
}
.search-icon{ opacity:.6; }
.search-input{
  border:none; outline:none; min-width:160px; font-size:14px; background:transparent;
}

/* Avatar dropdown */
.user-menu-wrap{ position:relative; }
.avatar-btn{
  display:flex; align-items:center; gap:6px; height:36px; padding:0 6px;
  border:1px solid var(--border); border-radius:999px; background:#fff; cursor:pointer;
}
.avatar{ width:28px; height:28px; border-radius:50%; object-fit:cover; }
.avatar.lg{ width:40px; height:40px; }
.caret{ font-size:12px; opacity:.6; }
.user-menu{
  position:absolute; right:0; top:44px; width:240px;
  background:#fff; border:1px solid var(--border); border-radius:12px;
  box-shadow:0 8px 30px rgba(0,0,0,.08); overflow:hidden;
}
.user-menu__head{ display:flex; gap:10px; padding:12px 12px 8px; border-bottom:1px solid var(--border); }
.user-text{ display:flex; flex-direction:column; gap:2px; }
.user-text small{ color:#888; }
.user-menu__item{
  width:100%; text-align:left; background:#fff; border:none;
  padding:10px 12px; cursor:pointer; display:flex; gap:8px; align-items:center;
}
.user-menu__item:hover{ background:#f6f6f6; }
.user-menu__item.danger{ color:#c62828; }

/* ===== Products ===== */
.products-area{
  flex:1; overflow-y:auto; -webkit-overflow-scrolling:touch; touch-action:pan-y;
  min-height:0; padding:16px;
}
.visually-hidden{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); border:0;
}

.product-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:20px;
}
.product-card{
  background:#fff; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,.06);
  padding:14px; display:flex; flex-direction:column; min-height:260px;
  transition:box-shadow .2s ease, transform .06s ease;
}
.product-card:hover{ box-shadow:0 8px 18px rgba(0,0,0,.12); }
.product-image{
  width:120px; height:120px; object-fit:cover; border-radius:10px; align-self:center; margin:0 auto 10px;
}
.product-name{
  font-size:14px; font-weight:700; letter-spacing:.2px;
  margin:6px 0 2px; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
}
.product-desc{
  font-size:12px; color:var(--muted); margin:6px 0; line-height:1.45;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; min-height:calc(1.45em * 2);
}
.product-price{
  font-weight:800;
  margin:6px 0 10px;
  color:var(--price);
}

.add-to-cart-btn{
  background:var(--cta);
  color:var(--cta-contrast);
  border:none;
  padding:9px 12px;
  border-radius:8px;
  cursor:pointer;
  margin-top:auto;
  align-self:flex-start;
  font-weight:800;
  letter-spacing:.2px;
  transition:filter .12s, transform .06s;
}
.add-to-cart-btn:hover{ filter:brightness(.98); }
.add-to-cart-btn:active{ transform:translateY(1px); }

/* ===== Cart (desktop) ===== */
.layout-cart{
  width:300px; border-left:1px solid var(--border); background:var(--bg-soft);
  display:flex; flex-direction:column; padding:20px;

  /* make the entire cart its own scroll area */
  position:sticky; top:0;
  height:100dvh;
  overflow-y:auto;
  overscroll-behavior:contain;
  padding-bottom:max(20px, env(safe-area-inset-bottom));
}
@supports not (height:100dvh){ .layout-cart{ height:100vh; } }

.cart-header{ margin-bottom:10px; }
.cart-order-id{ color:#999; font-size:12px; }

/* Delivery pills */
.cart-delivery{ display:flex; gap:10px; margin-bottom:20px; flex-wrap:wrap; }
.cart-delivery button{
  border:1px solid #d4d4d8; border-radius:999px; padding:6px 12px; cursor:pointer; font-size:12px; background:#fff;
  transition:background .12s,border-color .12s,color .12s,transform .06s;
}
.cart-delivery button:hover{ background:#fafafa; }
.cart-delivery button:active{ transform:translateY(1px); }
.cart-delivery button.active{
  background:var(--brand); color:#fff; border-color:var(--brand);
}

/* Cart list */
.cart-items{
  flex:0 0 auto;
  min-height:160px;
  overflow:visible;
  margin-bottom:20px;
}
@media (max-height:600px){
  .cart-items{ min-height:120px; }
}

/* === Row visual polish (card look) === */
.cart-item{
  display:flex; justify-content:space-between; align-items:flex-start; gap:12px;
  padding:12px;
  margin:10px 0;
  border:1px solid var(--border);
  border-radius:12px;
  background:#fff;
  box-shadow:0 2px 8px rgba(0,0,0,.04);
}
.cart-item-left{ flex:1; overflow-wrap:normal; word-break:normal; }
.cart-item-right{
  display:flex;
  gap:8px;
  margin-left:8px;
  align-items:flex-end;   /* right edge alignment */
  flex-direction:column;  /* price on top, stepper below */
}
.cart-item-right p{
  margin:0;
  font-weight:800;
  text-align:right;
  min-width:auto;
  font-size:14px;
}

/* Quantity control / stepper */
.stepper{
  display:inline-flex;
  align-items:center;
  height:34px;
  border:1px solid var(--border);
  border-radius:12px;
  background:#fff;
  overflow:hidden;
  box-shadow:inset 0 1px 0 rgba(0,0,0,.03);
}
.stepper-btn{
  width:34px;
  height:34px;
  display:grid; place-items:center;
  font-weight:800; border:none; background:#fff; cursor:pointer;
  transition:background .12s, transform .06s;
}
.stepper-btn:hover{ background:#f3f4f6; }
.stepper-btn:active{ transform:translateY(1px); }
.stepper-qty{ min-width:28px; text-align:center; font-weight:800; padding:0 8px; }

/* Remove button (icon style used elsewhere) */
.cart-remove{
  background:#fff; border:1px solid var(--border); color:#9ca3af; width:28px; height:28px;
  border-radius:8px; cursor:pointer; display:grid; place-items:center; font-size:18px;
  transition:background .12s,color .12s,border-color .12s,transform .06s;
}
.cart-remove:hover{ color:#dc2626; border-color:#f3c1c1; background:#fff5f5; }
.cart-remove:active{ transform:translateY(1px); }
.cart-remove{ align-self:flex-end; }

/* Summary */
.cart-summary{ border-top:1px solid var(--border); padding-top:10px; }
.summary-row{ display:flex; justify-content:space-between; margin-bottom:6px; font-size:15px; }
.total-row{ font-weight:800; font-size:18px; }

/* Buttons */
.checkout-btn,.discount-btn{
  width:100%; padding:10px; border:none; border-radius:10px; cursor:pointer; margin-top:10px;
  font-weight:800; letter-spacing:.2px; transition:filter .12s,transform .06s;
}
.checkout-btn{ background:var(--brand); color:#fff; }
.checkout-btn:hover{ filter:brightness(.98); }
.checkout-btn:active,.discount-btn:active{ transform:translateY(1px); }
.discount-btn{ background:var(--brand-2); color:#000; }
.discount-btn:hover{ filter:brightness(.98); }

/* =========================
   Email Receipt (desktop cart)
   ========================= */
.email-receipt{
  margin-top:16px; padding-top:14px; border-top:1px solid var(--border);
  margin-bottom:16px;
}
.email-receipt h4{ margin:0 0 8px; font-size:18px; letter-spacing:.2px; }

.email-receipt__row{
  display:grid; grid-template-columns:minmax(0,1fr) auto; gap:10px; align-items:center;
}
.email-receipt__input{
  width:100%; min-width:0; height:44px; padding:10px 12px; font-size:14px; line-height:1.2; color:var(--text);
  background:#fff; border:1px solid var(--border); border-radius:10px; outline:none;
  box-shadow:inset 0 1px 0 rgba(0,0,0,.02);
  transition:border-color .15s ease, box-shadow .15s ease, background .15s ease;
  overflow:hidden; text-overflow:ellipsis;
}
.email-receipt__input::placeholder{ color:#9ca3af; }
.email-receipt__input:hover{ border-color:var(--border); }
.email-receipt__input:focus{ box-shadow:var(--ring); border-color:var(--price); }

.email-receipt__btn{
  height:44px; padding:0 16px; border-radius:10px; font-weight:800; background:var(--brand); color:#fff;
  border:1px solid var(--brand); cursor:pointer; white-space:nowrap; transition:filter .12s,transform .06s;
}
.email-receipt__btn:hover{ filter:brightness(.98); }
.email-receipt__btn:active{ transform:translateY(1px); }

.email-receipt__note{ margin:8px 0 0; font-size:14px; color:var(--price); }
.email-receipt__error{ margin:8px 0 0; font-size:14px; color:#b91c1c; }

/* Utility */
.muted{ color:var(--muted); }
.success{ color:var(--price); }
.danger{ color:#b91c1c; }

/* =========================
   Payment Modal — refined sizing
   ========================= */
.paymodal{
  position:fixed; inset:0; z-index:999; display:grid; place-items:center; padding:16px;
  background:rgba(0,0,0,.35); backdrop-filter:blur(4px); -webkit-backdrop-filter:blur(4px);
  animation:payfade .16s ease-out;
}
@keyframes payfade{ from{opacity:0;} to{opacity:1;} }

.paymodal__dialog{
  width:min(420px,92vw);
  max-height:88vh;
  background:#fff;
  border-radius:14px;
  box-shadow:0 14px 40px rgba(0,0,0,.18);
  overflow-y:auto;
  transform:translateY(6px) scale(.98);
  animation:payin .2s ease-out forwards;
}
@keyframes payin{ to{ transform:translateY(0) scale(1); } }

.paymodal__head{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 18px; border-bottom:1px solid var(--border); background:#fafafa;
}
.paymodal__head h3{ margin:0; font-size:18px; font-weight:800; color:#0f172a; letter-spacing:.2px; }
.paymodal__close{
  border:none; background:#f3f4f6; width:30px; height:30px; border-radius:8px; cursor:pointer; font-size:16px;
  transition:background .12s;
}
.paymodal__close:hover{ background:#eceff3; }

.paymodal__body{ padding:14px 16px 6px; overflow-y:auto; }

/* Payment list */
.paylist{ list-style:none; margin:0; padding:0; display:grid; gap:10px; }
.payitem{
  width:100%; display:grid; grid-template-columns:36px 1fr auto; align-items:center; gap:10px;
  padding:10px 12px; border-radius:10px; border:1px solid var(--border);
  background:linear-gradient(#fafafa,#f9fafb);
  cursor:pointer; text-align:left;
  transition:transform .05s, box-shadow .15s, border-color .15s, background .15s;
}
.payitem:hover{ box-shadow:0 6px 14px rgba(0,0,0,.06); border-color:#dbe3ea; background:#fff; }
.payitem:active{ transform:translateY(1px); }
.payitem__icon{
  width:36px; height:36px; border-radius:8px; background:#f3f4f6; display:grid; place-items:center; font-size:18px;
}
.payitem__label{ font-weight:700; color:#0f172a; letter-spacing:.2px; }
.payitem__check{ font-weight:800; color:var(--price); }
.payitem.is-selected{
  border-color:var(--brand); box-shadow:0 8px 20px rgba(251,126,0,.16); background:#fff;
}
.payitem.is-selected .payitem__icon{ background:#fff4e8; }

/* Footer buttons */
.paymodal__actions{
  display:flex; justify-content:flex-end; gap:10px; padding:14px 16px 16px; border-top:1px solid var(--border); background:#fafafa;
}

.btn{
  height:40px; border-radius:10px; font-weight:800; letter-spacing:.3px; cursor:pointer; border:1px solid transparent;
  transition:transform .05s, box-shadow .12s, background .12s, border-color .12s;
}
.btn:active{ transform:translateY(1px); }
.btn:disabled{ opacity:.6; cursor:not-allowed; transform:none; }
.btn-primary{
  background:var(--cta); color:var(--cta-contrast); border-color:var(--cta); box-shadow:0 6px 14px rgba(121,180,176,.25);
}
.btn-primary:hover{ filter:brightness(.98); }
.btn-ghost{ background:#fff; color:#b91c1c; border-color:#f3c1c1; }
.btn-ghost:hover{ background:#fff5f5; border-color:#dc2626; }

/* Inputs in modal */
.paymodal input.register-input,
.paymodal textarea.register-input{
  width:100%; font-size:14px; border:1px solid var(--border); border-radius:8px; padding:8px 10px; line-height:1.35; outline:none;
  transition:border-color .15s, box-shadow .15s;
}
.paymodal input.register-input:focus,
.paymodal textarea.register-input:focus{ box-shadow:var(--ring); border-color:var(--price); }
.paymodal textarea.register-input{ min-height:80px; resize:vertical; }

/* Compact on smaller screens */
@media (max-width:480px){
  .paymodal__dialog{ width:94vw; max-height:90vh; }
  .paymodal__head h3{ font-size:16px; }
  .payitem{ padding:8px 10px; gap:8px; }
  .paymodal__actions{ flex-direction:column; }
  .btn{ width:100%; }
}

/* =========================
   Discount Modal
   ========================= */
.discount-modal{
  position:fixed; inset:0; background:rgba(0,0,0,.5); display:grid; place-items:center; z-index:999; padding:16px;
}
.discount-modal-content{
  background:#fff; padding:20px; border-radius:12px; width:min(440px,92vw);
  box-shadow:0 12px 30px rgba(0,0,0,.18);
}
.discount-modal-content h3{ margin:0 0 1rem; text-align:center; }
.discount-modal-content label{ display:block; font-weight:700; margin-bottom:6px; }
.discount-modal-content input[type="text"],
.discount-modal-content textarea,
.discount-modal-content select{
  width:100%; box-sizing:border-box; padding:10px 12px; margin-bottom:1rem; border:1px solid var(--border); border-radius:10px; font-size:14px;
}
.discount-modal-content input:focus,
.discount-modal-content textarea:focus,
.discount-modal-content select:focus{ box-shadow:var(--ring); border-color:var(--price); }
.radio-row{ display:flex; gap:12px; margin-bottom:12px; }
.preview{ margin-top:6px; font-size:13px; color:#555; }
.discount-modal-actions{ display:flex; justify-content:flex-end; gap:10px; }
.discount-modal-actions button{
  padding:10px 14px; border:none; border-radius:8px; cursor:pointer; background:#f0f0f0; transition:filter .12s,transform .06s;
}
.discount-modal-actions button:first-child{ background:var(--brand); color:#fff; }
.discount-modal-actions button:active{ transform:translateY(1px); }

/* =======================
   Skeleton / Shimmer
   ======================= */
.skeleton .shimmer{ position:relative; overflow:hidden; background:#eee; }
.skeleton .shimmer::before{
  content:""; position:absolute; inset:0; transform:translateX(-100%);
  background:linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.7) 50%, rgba(255,255,255,0) 100%);
  animation:shimmerMove 1.4s infinite;
}
@keyframes shimmerMove{ 100% { transform:translateX(100%); } }
.product-card.skeleton{
  background:#fff; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,.06); padding:14px; display:flex; flex-direction:column; min-height:260px; gap:10px;
}
.skeleton-img{ width:120px; height:120px; border-radius:10px; align-self:center; }
.skeleton-line{ height:12px; border-radius:6px; }
.skeleton-btn{ height:34px; border-radius:8px; margin-top:auto; width:120px; }

/* =======================
   Empty State
   ======================= */
.empty-state{ display:grid; place-items:center; text-align:center; gap:10px; padding:40px 10px; color:#4b5563; }
.empty-art{ font-size:40px; line-height:1; }
.empty-state h3{ margin:6px 0 0; color:#111827; }
.empty-cta{
  background:var(--brand); color:#fff; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:800; margin-top:6px;
  transition:filter .12s,transform .06s;
}
.empty-cta:hover{ filter:brightness(.98); }
.empty-cta:active{ transform:translateY(1px); }

/* ===== Floating Cart (mobile) ===== */
.fab-cart{
  position:fixed; right:16px; bottom:16px; z-index:60; display:none; align-items:center; gap:8px;
  padding:12px 16px; border-radius:999px; border:none; background:var(--brand); color:#fff; box-shadow:0 8px 20px rgba(0,0,0,.15); font-weight:800;
}
.fab-cart:disabled{ opacity:.5; }
.fab-cart__label{ font-size:14px; }
.fab-cart__badge{ background:#fff; color:var(--brand); border-radius:999px; padding:2px 8px; font-size:12px; font-weight:800; }

/* ===== Bottom Sheet Cart (mobile – logic handled in JSX) ===== */
.cart-sheet{ display:none; }
.cart-sheet__backdrop{}
.cart-sheet__panel{}
.cart-sheet.open .cart-sheet__panel{}
.cart-sheet.open .cart-sheet__backdrop{}
.cart-sheet__grab{}
.cart-sheet__head{}
.cart-sheet__close{}

/* ===== Responsive ===== */
@media (max-width:1180px){ .avatar-btn .caret{ display:none; } }
@media (max-width:1024px){ .layout-cart{ width:280px; } }

@media (max-width:900px){
  .layout-topbar{ padding:8px 12px; }
  .search-input{ min-width:120px; }

  .layout-container{ height:auto; min-height:100dvh; overflow-x:hidden; overflow-y:visible; flex-direction:column; }

  .layout-sidebar{
    width:100%; border-right:0; border-bottom:1px solid var(--border);
    position:sticky; top:0; z-index:50; background:rgba(250,250,250,.92);
    backdrop-filter:blur(8px); padding:12px 16px;

    /* prevent width/padding animation on breakpoint flip */
    transition:none !important;
  }

  .layout-cart{ display:none; }
  .fab-cart{ display:inline-flex; }

  .cart-sheet{ display:block; }
  .cart-sheet__backdrop{
    position:fixed; inset:0; background:rgba(0,0,0,.4); opacity:0; pointer-events:none; transition:opacity .2s ease; z-index:80;
  }
  .cart-sheet__panel{
    position:fixed; left:0; right:0; bottom:0; z-index:81; background:#fff; border-top-left-radius:16px; border-top-right-radius:16px;
    max-height:78dvh; display:flex; flex-direction:column; transform:translateY(100%); transition:transform .25s ease;
    box-shadow:0 -10px 30px rgba(0,0,0,.18);
  }
  .cart-sheet.open .cart-sheet__panel{ transform:translateY(0%); }
  .cart-sheet.open .cart-sheet__backdrop{ opacity:1; pointer-events:auto; }

  .cart-sheet__grab{ width:44px; height:5px; border-radius:999px; background:#ddd; margin:8px auto 6px; }
  .cart-sheet__head{
    display:flex; align-items:center; justify-content:space-between; padding:4px 16px 8px; border-bottom:1px solid var(--border);
  }
  .cart-sheet__close{ border:none; background:none; font-size:18px; cursor:pointer; }

  .cart-items{ padding:0 16px; }
  .cart-summary{ padding:10px 16px 16px; border-top:1px solid var(--border); }
  .cart-delivery{ padding:10px 16px 0; }

  .product-grid{ grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px; }
  .product-card{ padding:12px; }
  .product-image{ width:96px; height:96px; }
}

/* Tighten skeleton on small screens */
@media (max-width:900px){
  .skeleton-img{ width:96px; height:96px; }
  .skeleton-btn{ width:100px; height:32px; }
}

/* Stack email input + button on tablets/phones */
@media (max-width:1024px){
  .email-receipt__row{ grid-template-columns:1fr; gap:8px; }
  .email-receipt__btn{ width:100%; justify-self:stretch; }
}

/* ===== Item Notes (cart) ===== */
.link-btn{
  background:none; border:none; padding:0; font:inherit;
  color:var(--brand); text-decoration:underline; cursor:pointer;
  white-space:nowrap; display:inline-flex; align-items:center; line-height:1.2;
}
.link-btn:hover{ filter:brightness(.95); }
.link-btn:focus{ outline:var(--ring); outline-offset:2px; }

/* Note preview under the item name (long notes wrap safely) */
.cart-note{
  margin-top:4px; font-size:12px; font-style:italic; color:#555; opacity:.9;
  overflow-wrap:anywhere; word-break:break-word;
}

.products-area .empty-state .empty-cta{
  color:#fff !important;
  border-color: transparent;
}

/* =========================
   Customize Modal — polish
   ========================= */
.paymodal__dialog.paymodal__dialog--customize{
  width:min(520px,94vw);
  border-radius:16px;
  box-shadow:
    0 12px 24px rgba(0,0,0,.12),
    0 2px 0 rgba(0,0,0,.02) inset;
  overflow:hidden;
  background:#fff;
}

/* Header */
.paymodal__dialog.paymodal__dialog--customize .paymodal__head{
  padding:16px 20px;
  background:linear-gradient(180deg,#fafafa,#f6f8fb);
  border-bottom:1px solid #eef0f3;
}
.paymodal__dialog.paymodal__dialog--customize .paymodal__head h3{
  font-size:20px; font-weight:800; letter-spacing:.2px; color:#0f172a;
}

/* Close button hover */
.paymodal__dialog.paymodal__dialog--customize .paymodal__close{
  background:#f3f4f6;
  border:1px solid var(--border);
  border-radius:10px;
  width:34px; height:34px;
}
.paymodal__dialog.paymodal__dialog--customize .paymodal__close:hover{
  background:#eef2f7;
}

/* Body */
.paymodal__dialog.paymodal__dialog--customize .paymodal__body{
  padding:18px 20px 8px;
}
.paymodal__dialog.paymodal__dialog--customize .register-label{
  font-weight:800; color:#0f172a;
}

/* Options layout */
.paymodal__dialog.paymodal__dialog--customize .radio-row{
  display:flex;
  gap:18px;
  flex-wrap:wrap;
}

/* Pretty radios & checkboxes (accessible) */
.paymodal__dialog.paymodal__dialog--customize input[type="radio"],
.paymodal__dialog.paymodal__dialog--customize input[type="checkbox"]{
  appearance:none;
  inline-size:18px; block-size:18px;
  border:2px solid #cbd5e1;
  border-radius:6px;
  display:inline-grid; place-items:center;
  transition:border-color .18s, background .18s, box-shadow .18s;
  cursor:pointer;
  vertical-align:-3px;
  background:#fff;
}
.paymodal__dialog.paymodal__dialog--customize input[type="radio"]{ border-radius:50%; }
.paymodal__dialog.paymodal__dialog--customize input[type="radio"]::before{
  content:""; inline-size:8px; block-size:8px; border-radius:50%;
  transform:scale(0); transition:transform .14s ease-out; background:var(--brand);
}
.paymodal__dialog.paymodal__dialog--customize input[type="checkbox"]::before{
  content:"✓"; font-weight:900; font-size:12px; line-height:1;
  transform:scale(0); color:#fff; transition:transform .14s ease-out;
}
.paymodal__dialog.paymodal__dialog--customize input[type="radio"]:checked{
  border-color:var(--brand); background:#fff4e8;
}
.paymodal__dialog.paymodal__dialog--customize input[type="radio"]:checked::before{ transform:scale(1); }
.paymodal__dialog.paymodal__dialog--customize input[type="checkbox"]:checked{
  border-color:var(--price); background:var(--price);
  box-shadow:0 0 0 3px rgba(159,192,137,.28);
}
.paymodal__dialog.paymodal__dialog--customize input[type="checkbox"]:checked::before{ transform:scale(1); }
.paymodal__dialog.paymodal__dialog--customize input[type="radio"]:focus-visible,
.paymodal__dialog.paymodal__dialog--customize input[type="checkbox"]:focus-visible{
  outline:none; box-shadow:0 0 0 3px rgba(251,126,0,.25); border-color:var(--brand);
}

/* Label alignment */
.paymodal__dialog.paymodal__dialog--customize .radio-row label{
  display:flex; align-items:center; gap:10px; padding:6px 8px; border-radius:10px;
}

/* Section spacing */
.paymodal__dialog.paymodal__dialog--customize .pay-section + .pay-section{ margin-top:12px; }

/* Footer */
.paymodal__dialog.paymodal__dialog--customize .paymodal__actions{
  position:sticky; bottom:0; display:flex; gap:10px; justify-content:flex-end;
  padding:14px 16px 16px; background:linear-gradient(180deg,rgba(255,255,255,.4),#fff);
  border-top:1px solid #eef0f3;
}

/* Primary CTA a bit larger & rounded */
.paymodal__dialog.paymodal__dialog--customize .btn{
  height:44px; border-radius:12px; padding:0 20px; font-weight:800;
}
.paymodal__dialog.paymodal__dialog--customize .btn-primary{
  background:var(--brand); border-color:var(--brand); color:#fff; box-shadow:0 8px 18px rgba(251,126,0,.25);
}
.paymodal__dialog.paymodal__dialog--customize .btn-primary:hover{ filter:brightness(.98); }

/* Small screens */
@media (max-width:520px){
  .paymodal__dialog.paymodal__dialog--customize{ width:95vw; border-radius:14px; }
  .paymodal__dialog.paymodal__dialog--customize .paymodal__head h3{ font-size:18px; }
}

/* Smaller link on phones */
@media (max-width:900px){ /* Bottom sheet container: clip inner scroll */
.cart-sheet__panel{
  position:fixed; left:0; right:0; bottom:0; z-index:81;
  background:#fff; border-top-left-radius:16px; border-top-right-radius:16px;
  max-height:78dvh;

  /* NEW */
  display:flex;               /* column layout */
  flex-direction:column;
  overflow:hidden;            /* prevent whole sheet from scrolling */
  transform:translateY(100%); transition:transform .25s ease;
  box-shadow:0 -10px 30px rgba(0,0,0,.18);
}

/* Make ONLY the items area scroll */
.cart-items{
  /* NEW overrides for mobile */
  flex:1 1 auto;              /* take remaining height between header & summary */
  overflow-y:auto;            /* scroll just this section */
  -webkit-overflow-scrolling:touch;
  overscroll-behavior:contain;
  padding:0 16px;
  margin-bottom:0;            /* no extra push */
}

/* Keep delivery pills & summary fixed inside the panel */
.cart-delivery{ padding:10px 16px 0; flex:0 0 auto; }
.cart-summary{ padding:10px 16px 16px; border-top:1px solid var(--border); flex:0 0 auto; }
}

/* ===== Reduced motion ===== */
@media (prefers-reduced-motion:reduce){
  *{ animation:none!important; transition:none!important; }
}

/* ===========================================
   Sidebar logo — smooth resize (mobile → desktop)
   =========================================== */
.sidebar-logo img{
  height:var(--sb-logo-h);
  width:auto;                 /* keep aspect ratio */
  object-fit:contain;
  border-radius:var(--sb-logo-rad);
  background:#fff;
  box-shadow:0 2px 8px rgba(0,0,0,.04);

  /* enable smooth transition on size & cosmetics */
  transition:
    height .25s ease,
    border-radius .25s ease,
    box-shadow .25s ease,
    background .25s ease;
}

/* keep same aspect in expanded desktop */
.layout-sidebar:not(.collapsed) .sidebar-logo img{
  height:var(--sb-logo-h);
  width:auto;
  padding:0;
}

/* mobile/topbar: smaller look, transitions stay ON */
@media (max-width:900px){
  .layout-sidebar .sidebar-logo img{
    height:var(--sb-logo-h);
    width:auto;
    border-radius:6px;
    background:transparent;
    box-shadow:none;
  }
}
